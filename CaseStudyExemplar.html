<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Case Study: Exemplar | Inclusive Learning Design Handbook</title>
        <link rel="icon" type="image/png" href="images/favico.png">

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/foundation.min.css">
        <link rel="stylesheet" href="css/highlightjs-custom.css">
        <link rel="stylesheet" href="lib/infusion/src/lib/jquery/ui/css/default-theme/jquery.ui.theme.css">

        <link rel="stylesheet" type="text/css" href="lib/infusion/src/framework/preferences/css/Enactors.css" />
        <link rel="stylesheet" type="text/css" href="lib/infusion/src/framework/preferences/css/PrefsEditor.css" />
        <link rel="stylesheet" type="text/css" href="lib/infusion/src/framework/preferences/css/SeparatedPanelPrefsEditor.css" />
        <link rel="stylesheet" href="css/docs-inclusive-learning.css">

        <script type="text/javascript" src="lib/infusion/infusion-uio.js"></script>
        <script type="text/javascript" src="js/DocsCore.js"></script>
        <script type="text/javascript" src="lib/jqueryui/jquery-ui.min.js"></script>
    </head>

    <body class="docs-template docs-inclusiveLearning docs-core-sidebar-expanded">

        <div class="container docs-template-container">

            <!-- Skip Link -->
            <nav id="skip" class="fl-inverted-color">
                <a href="#topics" class="docs-template-skip-topics">Skip to Topics</a>
                <a href="#content" class="docs-template-skip-content">Skip to Content</a>
            </nav>
            <!-- END skip link -->


            <header class="ignore-for-TOC row fl-inverted-color">
                <!-- BEGIN markup for Preference Editor -->
                <div class="flc-prefsEditor-separatedPanel fl-prefsEditor-separatedPanel">
                    <!-- This is the div that will contain the Preference Editor component -->
                    <div class="flc-slidingPanel-panel flc-prefsEditor-iframe"></div>

                    <!-- This div is for the sliding panel that shows and hides the Preference Editor controls -->
                    <div class="fl-panelBar">
                        <span class="fl-prefsEditor-buttons">
                            <button id="reset" class="flc-prefsEditor-reset fl-prefsEditor-reset"><span class="fl-icon-undo"></span> Reset</button>
                            <button id="show-hide" class="flc-slidingPanel-toggleButton fl-prefsEditor-showHide"> Show/Hide</button>
                        </span>
                    </div>
                </div>
                <!-- END markup for Preference Editor -->

                <div class="small-12 column docs-template-header">
                    <a class="docs-template-logo" href="index.html" title="Home: Floe Inclusive Learning Design Handbook">
                        <span class="show-for-sr">
                            <h1>Floe Project: Inclusive Learning Design Handbook</h1>
                        </span>

                        <span aria-hidden="true">
                            <h1>
                                floe
                                <span class="docs-template-tagline">The Inclusive Learning<br/>Design Handbook</span>
                            </h1>
                        </span>
                    </a>

                    
                    <nav class="right show-for-small-only docs-template-nav-mobile">
                        <ul id="menu">
                            <li class="docs-template-dropDown-header"><span class="docs-template-nav-mobile-icon"></span>
                                <ul class="docs-template-dropDown">
                                    
                                    
                                        
                                            <li><a href="index.html" title="Introduction">Introduction</a></li>
                                        
                                    
                                        
                                            <li><a href="InclusiveLearning.html" title="Methods">Methods</a></li>
                                        
                                    
                                        
                                            <li><a href="AccessibleStandardizedTesting.html" title="Accessible Standardized Testing">Accessible Standardized Testing</a></li>
                                        
                                    
                                        
                                            <li class="docs-template-category-active"><span aria-label="Currently on Category: Inclusive EPUB 3">Inclusive EPUB 3</span></li>
                                        
                                    
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>

                <div class="docs-template-header">
                    <nav class="small-12 column show-for-medium-up">
                        <ul class="inline-list right">
                        
                        
                            
                                <li><a href="index.html" title="Introduction">Introduction</a></li>
                            
                        
                            
                                <li><a href="InclusiveLearning.html" title="Methods">Methods</a></li>
                            
                        
                            
                                <li><a href="AccessibleStandardizedTesting.html" title="Accessible Standardized Testing">Accessible Standardized Testing</a></li>
                            
                        
                            
                                <li class="docs-template-category-active"><span aria-label="Currently on Category: Inclusive EPUB 3">Inclusive EPUB 3</span></li>
                            
                        
                        </ul>
                    </nav>
                </div>
            </header>

            <div class="docs-corec-sidebar-bar ignore-for-TOC docs-template-topics-container small-8 medium-3 column">
                <nav id="topics" class="docs-template-topics" tabindex="-1">
                    
                        
                        
                    
                        
                        
                    
                        
                        
                    
                        
                        
                            <h2 class="docs-template-category">Inclusive EPUB 3</h2>
                            
                                <h3 class="docs-template-sectionName"></h3>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="InclusiveEPUB3.html">Introduction to Inclusive EPUB 3</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="SemanticMarkupInEPUB3.html">Semantic Markup in EPUB 3</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="WAI-ARIA.html">WAI-ARIA</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="VisualStyles.html">Visual Styles</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="GraphicsAndMultimedia.html">Graphics and Multimedia</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ScriptingInEPUB3.html">Scripting in EPUB 3</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="Mathematics.html">Mathematics</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="NarrationsAndTextToSpeech.html">Narrations and Text-to-Speech</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="AccessibilityMetadata.html">Accessibility Metadata</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="TestingAndValidation.html">Testing and Validation</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <span aria-label="Currently on: Case Study: Exemplar" class="docs-template-topics-active">Case Study: Exemplar</span>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="EPUB3Resources.html">EPUB 3 Resources</a>
                                            
                                        </li>
                                    
                                </ul>
                            
                        
                    
                </nav>
            </div>

            <div class="docs-template-articleBody small-12 medium-8 column">
                <div class="small-4 medium-1 column docs-template-topics-hideShow fl-inverted-color">
                    <a href="#" class="docs-corec-sidebar-toggle">Topics</a>
                </div>

                <article id="content">
                    <h1>Case Study: Exemplar</h1>

                    <div class="flc-toc-tocContainer docs-template-uio-toc"> </div>

                    <div class="docs-template-articleContent">
                        <p>The Floe project developed an EPUB 3 resource that exemplifies best practices for creating inclusive EPUB resources:</p>
<p><a href="https://idrc.cachefly.net/floeproject.org/ebooks/InclusiveEPUB-physics.epub" rel="nofollow" target="_blank" class="link-external"> Download the EPUB</a></p>
<p>This resource demonstrates the following accessibility features:</p>
<ul>
<li>ARIA attributes and other HTML markup to support screen readers;</li>
<li>accessible math using MathML and long descriptions;</li>
<li>captions for the first video;</li>
<li>a media overlay narrating the opening portion of Chapter 1;</li>
<li>accessibility metadata.</li>
</ul>
<h2 id="notes-">Notes:</h2>
<ul>
<li>The interactive physics simulation in Chapter 3 can be played using a mouse. A keyboard-accessible version of the simulation has been developed, but it does not function properly within the EPUB document. Work is underway to address this (documented under issue  <a href="http://issues.fluidproject.org/browse/FLOE-287" rel="nofollow" target="_blank" class="link-external"> FLOE-287</a>).</li>
<li>The interactive physics simulation will load in iBooks on Mac OS 10.10 Yosemite, but not on Mac OS 10.9 Mavericks.</li>
</ul>
<p>In creating this exemplar, Pandoc (link: <a href="http://johnmacfarlane.net/pandoc/" rel="nofollow" target="_blank" class="link-external">http://johnmacfarlane.net/pandoc/</a>) was initially used to create an EPUB from HTML files. While Pandoc was excellent in converting HTML 5 into an EPUB 3 container, the output was unsuitable for handling desirable inclusive EPUB features, such as Media Overlays and WAI-ARIA markup. For a detailed (and somewhat technical) look at using Pandoc in creating an inclusive EPUB, see <a href="http://wiki.fluidproject.org/display/fluid/Experiences+with+Pandoc" rel="nofollow" target="_blank" class="link-external">Fluid Wiki - Experiences with Pandoc</a>.</p>
<p>The rest of this page provides some technical information about how the exemplar EPUB resource was created and some lessons learned along the way.</p>
<p><a href="https://github.com/jhung/EPUB/tree/FLOE-240-2" rel="nofollow" target="_blank" class="link-external"> View the github repository containing the resources used to build the EPUB</a></p>
<h2 id="semantic-markup-html-5-semantics-and-epub-type">Semantic markup - HTML 5 semantics and epub type</h2>
<p>EPUB 3 uses an XHTML document type that is based on HTML5 and inherits almost all definitions of semantics, structure and processing behaviors from the HTML5 specification. This means that you can create valid HTML5 documents and update the head of the document to define it as XML and declare the epub namespace.</p>
<h3 id="original-html-">Original HTML:</h3>
<pre class="highlight"><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    ...
</code></pre><p>###Modified to be EPUB 3 compatible:###</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">"http://www.w3.org/1999/xhtml"</span>
      <span class="hljs-attribute">xmlns:epub</span>=<span class="hljs-value">"http://www.idpf.org/2007/ops"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    ...
</code></pre><h2 id="scripts">Scripts</h2>
<p>The interactive simulation we used in the exemplar EPUB is taken from <a href="http://phet.colorado.edu/" rel="nofollow" target="_blank" class="link-external"> PhET</a>, specificially the Forces and Motion simulation:</p>
<ul>
<li>Online demo: <a href="http://phet.colorado.edu/sims/html/forces-and-motion-basics/latest/forces-and-motion-basics_en.html" rel="nofollow" target="_blank" class="link-external">http://phet.colorado.edu/sims/html/forces-and-motion-basics/latest/forces-and-motion-basics_en.html</a></li>
<li>Source code on github: <a href="https://github.com/phetsims/forces-and-motion-basics" rel="nofollow" target="_blank" class="link-external">https://github.com/phetsims/forces-and-motion-basics</a></li>
<li>Phet development overview: <a href="http://bit.ly/phet-development-overview" rel="nofollow" target="_blank" class="link-external">http://bit.ly/phet-development-overview</a></li>
</ul>
<p>In order to use scripts in EPUB, CDATA blocks need to be added. However this will break the HTML in browsers.</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
   &lt;!CDATA[
   <span class="hljs-keyword">var</span> code = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'code'</span>);
   code.style.color = <span class="hljs-string">'rgb(0,0,200)'</span>;
   code.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
      revealCode();
   };
   ]]&gt;
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><h2 id="media-overlays">Media Overlays</h2>
<p>The following process was used to create the Media Overlays for the Inclusive EPUB exemplar.</p>
<ol>
<li><p>Decide what level of granularity you want the highlighting to happen at: word, sentence, paragraph, etc.</p>
</li>
<li><p>Ensure there&#39;s an ID attribute on any HTML element you want highlighted.</p>
</li>
<li><p>Record an audio narration of the text. We used the <a href="http://audacityteam.org/" rel="nofollow" target="_blank" class="link-external">free audio editing tool Audacity</a>.</p>
</li>
<li><p>Identify start and end timecodes for the blocks of audio corresponding to the granularity level you chose:</p>
</li>
<li>In Audacity, select the wave segment for the audio in question</li>
<li>Add a label by selecting &quot;Add Label at Selection&quot; under the &quot;Tracks&quot; menu. The first time you do this, Audacity will automatically create a Label track.</li>
<li><p>Name label using the same ID of the associated HTML element.</p>
</li>
<li><p>Export Audacity&#39;s label file. Each line in the output label file will contain <code>start time, end time, label</code>. The file will look something like this:</p>
<pre class="highlight"><code class="hljs gcode"><span class="hljs-number">0.185760</span>        <span class="hljs-number">9.102222</span>        c<span class="hljs-number">01</span>p<span class="hljs-number">0002</span>
<span class="hljs-number">9.380862</span>        <span class="hljs-number">11.702857</span>        c<span class="hljs-number">01</span>h<span class="hljs-number">02</span>
<span class="hljs-number">11.702857</span>        <span class="hljs-number">15.185850</span>        c<span class="hljs-number">01</span>list<span class="hljs-number">001</span>ite<span class="hljs-title">m001</span>
</code></pre></li>
<li><p>Convert timecodes into SMIL <code>&lt;par&gt;</code> elements as per EPUB overlay specification using <code>awk</code>:</p>
<pre class="highlight"><code class="hljs stylus">&gt; awk -f convert<span class="hljs-class">.awk</span> -v htmlFile=<span class="hljs-number">01</span>-velocity<span class="hljs-class">.html</span> -v audioFile=audio/<span class="hljs-number">01</span>-velocity<span class="hljs-class">.mp3</span> \
    <span class="hljs-number">01</span>-velocity-timecodes<span class="hljs-class">.txt</span> &gt; <span class="hljs-number">01</span>-velocity<span class="hljs-class">.smil</span>
</code></pre></li>
<li><p>Add the appropriate SMIL header and footer to the output of the awk script, as well as any desired <code><seq></code> elements.</p>
<pre class="highlight"><code class="hljs r">&lt;smil
  xmlns=<span class="hljs-string">"http://www.w3.org/ns/SMIL"</span>
  xmlns:epub=<span class="hljs-string">"http://www.idpf.org/2007/ops"</span>
  version=<span class="hljs-string">"3.0"</span>&gt;
 &lt;body&gt;
.. paste the output of the awk script here <span class="hljs-keyword">...</span>

 &lt;/body&gt;
&lt;/smil&gt;
</code></pre></li>
<li><p>Edit the manifest file <code>content.opf</code> as necessary:</p>
</li>
<li><p>add duration metadata to the top of the document, inside the <code>&lt;meta&gt;</code> element:</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"media:duration"</span>&gt;</span>0:00:59.000<span class="hljs-tag">&lt;/<span class="hljs-title">meta</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"media:duration"</span> <span class="hljs-attribute">refines</span>=<span class="hljs-value">"#ch001_overlay"</span>&gt;</span>0:00:59.000<span class="hljs-tag">&lt;/<span class="hljs-title">meta</span>&gt;</span>
</code></pre></li>
<li><p>add <code>&lt;item&gt;</code> elements for the new files, ensuring to include the correct mime type:</p>
<ul>
<li>the SMIL file</li>
<li>the audio recording(s)<pre class="highlight"><code class="hljs nix">&lt;item <span class="hljs-variable">id=</span><span class="hljs-string">"ch001_overlay"</span> <span class="hljs-variable">href=</span><span class="hljs-string">"01-velocity.smil"</span> <span class="hljs-variable">media-type=</span><span class="hljs-string">"application/smil+xml"</span>/&gt;
&lt;item <span class="hljs-variable">id=</span><span class="hljs-string">"ch001_overlay_mp3"</span> <span class="hljs-variable">href=</span><span class="hljs-string">"audio/01-velocity.mp3"</span> <span class="hljs-variable">media-type=</span><span class="hljs-string">"audio/mpeg"</span> /&gt;
</code></pre></li>
</ul>
</li>
<li><p>add a <code>media-overlay</code> attribute to <code>&lt;item&gt;s</code> for the html file(s), referencing the ID of the relevant SMIL file:</p>
<pre class="highlight"><code class="hljs nix">&lt;item <span class="hljs-variable">id=</span><span class="hljs-string">"ch001_xhtml"</span> <span class="hljs-variable">href=</span><span class="hljs-string">"ch001.xhtml"</span> <span class="hljs-variable">media-type=</span><span class="hljs-string">"application/xhtml+xml"</span>
    <span class="hljs-variable">properties=</span><span class="hljs-string">"mathml"</span> <span class="hljs-variable">media-overlay=</span><span class="hljs-string">"ch001_overlay"</span> /&gt;
</code></pre></li>
</ol>
<h2 id="text-to-speech">Text-to-speech</h2>
<p>The Floe team discovered that none of the EPUB readers or operating system voicing technologies we tested honoured the lexicons or SSML. We found that some screen readers honour the <code>title</code> attribute of the <code>&lt;abbr&gt;</code> tag, and others the <code>aria-label</code>, so those were used to provide proper spoken versions of units, math, etc., as illustrated below.</p>
<pre class="highlight"><code class="hljs nix">&lt;abbr <span class="hljs-variable">role=</span><span class="hljs-string">"text"</span>
      <span class="hljs-variable">title=</span><span class="hljs-string">"metres per second"</span>
      <span class="hljs-variable">aria-label=</span><span class="hljs-string">"meters per second"</span>&gt;m/s&lt;/abbr&gt;
</code></pre><h2 id="accessibility-metadata">Accessibility metadata</h2>
<p>Add <a href="http://www.idpf.org/accessibility/guidelines/content/meta/schema.org.php" rel="nofollow" target="_blank" class="link-external"> Schema.org accessibility metadata</a> to the package.opf file describing the features of the EPUB:</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">package</span> … &gt;</span>
    …
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"schema:accessibilityFeature"</span>&gt;</span>tableOfContents<span class="hljs-tag">&lt;/<span class="hljs-title">meta</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"schema:accessibilityFeature"</span>&gt;</span>MathML<span class="hljs-tag">&lt;/<span class="hljs-title">meta</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">property</span>=<span class="hljs-value">"schema:accessibilityFeature"</span>&gt;</span>describedMath<span class="hljs-tag">&lt;/<span class="hljs-title">meta</span>&gt;</span>
    …
<span class="hljs-tag">&lt;/<span class="hljs-title">package</span>&gt;</span>
</code></pre><p>Note: The Schema.org accessibility property &#39;&#39;accessibilityFeature&#39;&#39; does not yet have a value that can convey the fact that an EPUB contains an audio narration through the media overlay, but such a value is being proposed.</p>
<p>###IMPORTANT NOTE:###
Until validators recognize the schema: prefix, you must declare it in the package.opf file:</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">package</span> …
    <span class="hljs-attribute">prefix</span>=<span class="hljs-value">"schema: http://schema.org"</span>&gt;</span>
    …
<span class="hljs-tag">&lt;/<span class="hljs-title">package</span>&gt;</span>
</code></pre><h2 id="testing-and-validation">Testing and validation</h2>
<p>The exemplar EPUB was tested and validated using:</p>
<ul>
<li><a href="http://readium.org/" rel="nofollow" target="_blank" class="link-external"> Readium for Chrome web browser</a></li>
<li>iBooks for Mac OS X</li>
<li><a href="https://addons.mozilla.org/en-US/firefox/addon/lucifox/" rel="nofollow" target="_blank" class="link-external"> Lucifox for Firefox</a></li>
<li><a href="http://validator.w3.org" rel="nofollow" target="_blank" class="link-external"> W3C Validator</a></li>
<li><a href="http://validator.idpf.org/" rel="nofollow" target="_blank" class="link-external"> EPUB Check</a></li>
</ul>

                    </div>

                    <p class="docs-template-githubLink"><a href="https://github.com/fluid-project/docs-inclusive-learning/blob/master/src/documents/CaseStudyExemplar.md" rel="nofollow" target="_blank" class="link-external">Edit this Page on GitHub</a></p>
                </article>

            </div>

            <footer class="row docs-template-footer fl-inverted-color">
                <p>The Floe Inclusive Learning Design Handbook, part of the <a class="link-external" rel="nofollow" target="_blank" href="http://www.floeproject.org/">Floe Project</a>, is produced by the <a href="http://idrc.ocadu.ca/" rel="nofollow" target="_blank" class="link-external">Inclusive Design Research Centre</a> at <a href="http://www.ocadu.ca" rel="nofollow" target="_blank" class="link-external">OCAD University</a>.</p>
                <p>Floe is funded by a grant from <a href="http://www.hewlett.org/" rel="nofollow" target="_blank" class="link-external">The William and Flora Hewlett Foundation</a>.</p>
                <p>Licensed under <a href="http://creativecommons.org/licenses/by/2.5/ca/" rel="nofollow" target="_blank" class="link-external">Creative Commons Attribution 2.5 Canada</a>.</p>
            </footer>

            <script type="text/javascript">
                docsCore.init("./");
                jQuery( "#menu" ).menu({
                    position: {my: "right top", at: "right bottom"},
                    icons: {submenu:"ui-icon-blank"},
                    // Remove the anchors from the tabindex as they are triggered
                    // via the select event. (see below)
                    create: function (event, ui) {
                        jQuery("#menu .ui-menu-item a").attr("tabindex", -1);
                    },
                    // The jQuery menu doesn't seem to like it when the <a> are
                    // specified as the "item" and are nested under an <li>. There
                    // seems to be styling issues and occassionally an error thrown.
                    // The page transition work around below is used to maintian the semantic structure,
                    // while allowing the menu to behave as normal.
                    select: function( event, ui ) {
                        var location = ui.item.children("a").attr("href");
                        if (location) {
                            window.location.href = location;
                        }
                    }
                });
            </script>
        </div> <!-- end container -->

    </body>
</html>
